[workspace]
resolver = "2"
members = [
    "rust/nexus_core",
    "rust/nexus_pyo3",
    "rust/nexus_wal",
    "rust/nexus_tasks",
]
# nexus_raft excluded: uses pyo3 0.22 (links conflict with pyo3 0.27 in nexus_pyo3)
# It builds independently via `cd rust/nexus_raft && cargo build`
exclude = ["rust/nexus_raft"]

[workspace.dependencies]
nexus_core = { path = "rust/nexus_core" }
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
ahash = "0.8"
regex = "1.10"
memchr = "2.7"
roaring = "0.10"
globset = "0.4"
blake3 = "1.5"
string-interner = "0.17"
regex-syntax = "0.8"
crc32fast = "1.4"

[profile.release]
lto = true
codegen-units = 1
opt-level = 3
