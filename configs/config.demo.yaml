# Nexus Demo Configuration
# Configuration for docker-compose demo environment with GCS connector

# Deployment mode (embedded = single-process server with local backends)
mode: embedded

# Server settings
server:
  host: 0.0.0.0
  port: 8080
  workers: 4
  log_level: info

# Database configuration (uses PostgreSQL from docker-compose)
database:
  url: postgresql://postgres:nexus@postgres:5432/nexus
  pool_size: 10
  max_overflow: 20
  echo: false

# Multi-backend storage configuration
# These backends will be automatically mounted on server startup
backends:
  # Default root backend (local storage)
  - type: local
    mount_point: /
    config:
      root_path: /app/data
    priority: 0
    readonly: false

  # GCS Connector backend for external bucket access
  # This provides direct path mapping to a GCS bucket, allowing external tools
  # to browse the bucket as if it were a local filesystem.
  - type: gcs_connector
    mount_point: /mnt/gcs_demo
    config:
      bucket: nexus-connector-test-1763281655
      project_id: nexi-lab-888
      prefix: nexus-demo
    priority: 10
    readonly: false
    description: "GCS test bucket for Nexus connector demo"

# Cache configuration
cache:
  type: memory
  ttl: 3600
  max_size_mb: 100

# Authentication
auth:
  jwt_secret: ${JWT_SECRET:-demo-secret-change-in-production}
  jwt_algorithm: HS256
  token_expiry_hours: 24
  api_key_expiry_days: 365

# Features
features:
  semantic_search: false  # Disabled for demo
  llm_read: false         # Disabled for demo
  agent_memory: true
  job_system: false       # Disabled for demo
  mcp_server: true

# Monitoring
monitoring:
  logging:
    level: info
    format: text
