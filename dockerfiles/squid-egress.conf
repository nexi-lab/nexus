# Squid egress proxy configuration for Nexus sandbox isolation.
#
# This is a TEMPLATE showing the base configuration. The actual config
# is generated dynamically by EgressProxyManager with per-profile
# domain allowlists injected at runtime.
#
# See: src/nexus/sandbox/egress_proxy.py

http_port 3128

# Disable caching — this is a filter proxy, not a cache
cache deny all

# Default: deny all egress (overridden at runtime)
http_access deny all

# Security hardening — strip client identity headers
forwarded_for delete
via off
request_header_access X-Forwarded-For deny all
